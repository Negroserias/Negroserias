<!DOCTYPE html>
<html>
<head>
  <title>Formulario de Comentarios</title>
</head>
<body>
  <div id="root"></div>

  <script src="https://cdn.jsdelivr.net/npm/react@17.0.2/umd/react.production.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/react-dom@17.0.2/umd/react-dom.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.14.6/babel.min.js"></script>

  <script type="text/babel">
    const CommentForm = () => {
      const handleSubmit = (e) => {
        e.preventDefault();
        const nickname = e.target.elements.nickname.value;
        const body = e.target.elements.body.value;
        const newComment = { nickname, body };
        
        // Realizar la solicitud POST para enviar el nuevo comentario a la API
        fetch('https://tuproyecto.glitch.me/api/comments', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify(newComment)
        })
        .then(response => response.json())
        .then(savedComment => {
          console.log('Comentario enviado:', savedComment);
          // Aquí puedes realizar alguna acción adicional después de enviar el comentario, si es necesario
        })
        .catch(error => console.error('Error al enviar el comentario:', error));
      };

      return (
        <form onSubmit={handleSubmit}>
          <label>
            Nickname (máximo 10 caracteres):
            <input type="text" name="nickname" maxLength="10" required />
          </label> 
          <label>
            Comentario (máximo 50 caracteres):
            <textarea name="body" rows="4" maxLength="50" required></textarea>
          </label> 

          <button type="submit">Enviar Comentario</button>
        </form>
      );
    };

    ReactDOM.render(<CommentForm />, document.getElementById('root'));
  </script>
</body>
</html>
